(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{153:function(e,t,n){},154:function(e,t,n){},231:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(27),r=n.n(s),i=(n(153),n(62)),o=n(106),l=n(241),j=n(136),d=n(38),u=n(49),h=n(236),b=n(111),O=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},x=n(235),m=n(44),f=n(240),g=n(242),p=n(46),y=n(243),S=n(244),v=n(245),w=n(246),I=n(247),E=(n(154),n(84)),T=n(239),k=n(237),C=n(233),A=n(234),F=n(238),N=n(141),P=function(e,t,n,c){c=c||"topRight",N.a[e]({message:t,description:n,placement:c})},D=function(e,t,n){return P("success",e,t,n)},B=function(e,t,n){return P("error",e,t,n)},L=n(7),M=E.a.Option,R=Object(L.jsx)(p.a,{style:{fontSize:24},spin:!0});var z=function(e){var t=e.showDrawer,n=e.setShowDrawer,a=e.fetchStudents,s=function(){return n(!1)},r=Object(c.useState)(!1),o=Object(i.a)(r,2),l=o[0],u=o[1];return Object(L.jsx)(T.a,{title:"Create new student",width:720,onClose:s,visible:t,bodyStyle:{paddingBottom:80},footer:Object(L.jsx)("div",{style:{textAlign:"right"},children:Object(L.jsx)(d.a,{onClick:s,style:{marginRight:8},children:"Cancel"})}),children:Object(L.jsxs)(k.a,{layout:"vertical",onFinish:function(e){u(!0),console.log(JSON.stringify(e,null,2)),function(e){return Object(b.a)("api/v1/students",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(O)}(e).then((function(){console.log("student added"),s(),D("Student added","".concat(e.name," was added to the system")),a()})).catch((function(e){console.log(e.response),e.response.json().then((function(e){console.log(e),B("There was an issue","".concat(e.message," [statusCode:").concat(e.status,"] [").concat(e.error,"]"),"bottomLeft")}))})).finally((function(){u(!1)}))},hideRequiredMark:!0,children:[Object(L.jsxs)(C.a,{gutter:16,children:[Object(L.jsx)(A.a,{span:12,children:Object(L.jsx)(k.a.Item,{name:"name",label:"Name",rules:[{required:!1,message:"Please enter student name"}],children:Object(L.jsx)(F.a,{placeholder:"Please enter student name"})})}),Object(L.jsx)(A.a,{span:12,children:Object(L.jsx)(k.a.Item,{name:"email",label:"Email",rules:[{required:!1,message:"Please enter student email"}],children:Object(L.jsx)(F.a,{placeholder:"Please enter student email"})})})]}),Object(L.jsx)(C.a,{gutter:16,children:Object(L.jsx)(A.a,{span:12,children:Object(L.jsx)(k.a.Item,{name:"gender",label:"gender",rules:[{required:!1,message:"Please select a gender"}],children:Object(L.jsxs)(E.a,{placeholder:"Please select a gender",children:[Object(L.jsx)(M,{value:"MALE",children:"MALE"}),Object(L.jsx)(M,{value:"FEMALE",children:"FEMALE"}),Object(L.jsx)(M,{value:"OTHER",children:"OTHER"})]})})})}),Object(L.jsx)(C.a,{children:Object(L.jsx)(A.a,{span:12,children:Object(L.jsx)(k.a.Item,{children:Object(L.jsx)(d.a,{type:"primary",htmlType:"submit",children:"Submit"})})})}),Object(L.jsx)(C.a,{children:l&&Object(L.jsx)(j.a,{indicator:R})})]})})},H=n(113),q=x.a.Header,J=x.a.Content,G=x.a.Footer,K=x.a.Sider,U=m.a.SubMenu,Y=function(e){var t=e.name,n=t.trim();return 0===t.trim().length?Object(L.jsx)(H.a,{icon:Object(L.jsx)(g.a,{})}):1===n.split(" ").length?Object(L.jsx)(H.a,{children:t.charAt(0)}):Object(L.jsx)(H.a,{children:"".concat(t.charAt(0)).concat(t.charAt(t.length-1))})},Q=function(e,t){(function(e){return Object(b.a)("api/v1/students/".concat(e),{method:"DELETE"}).then(O)})(e).then((function(){D("Student deleted","Student ".concat(e," was deleted")),t()})).catch((function(e){e.response.json().then((function(e){console.log(e),B("There was an issue","".concat(e.message," [statusCode:").concat(e.status,"] [").concat(e.error,"]"))}))}))},V=function(e){return[{title:"",dataIndex:"avatar",key:"avatar",render:function(e,t){return Object(L.jsx)(Y,{name:t.name})}},{title:"Id",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Actions",key:"actions",render:function(t,n){return Object(L.jsxs)(o.a.Group,{children:[Object(L.jsx)(l.a,{placement:"topRight",title:"Are you sure you want to delete ".concat(n.name),onConfirm:function(){return Q(n.id,e)},onText:"Yes",canceltext:"No",children:Object(L.jsx)(o.a.Button,{value:"small",children:"Delete"})}),Object(L.jsx)(o.a.Button,{value:"small",children:"Edit"})]})}}]},W=Object(L.jsx)(p.a,{style:{fontSize:24},spin:!0});var X=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(i.a)(s,2),o=r[0],l=r[1],p=Object(c.useState)(!0),E=Object(i.a)(p,2),T=E[0],k=E[1],C=Object(c.useState)(!1),A=Object(i.a)(C,2),F=A[0],N=A[1],P=function(){return Object(b.a)("api/v1/students").then(O).then((function(e){return e.json()})).then((function(e){console.log(e),l(e)})).catch((function(e){console.log(e.response),e.response.json().then((function(e){console.log(e),B("There was an issue","".concat(e.message," [statusCode:").concat(e.status,"] [").concat(e.error,"]"))}))})).finally((function(){return k(!1)}))};return Object(c.useEffect)((function(){console.log("component is mounted"),P()}),[]),Object(L.jsxs)(x.a,{style:{minHeight:"100vh"},children:[Object(L.jsxs)(K,{collapsible:!0,collapsed:n,onCollapse:a,children:[Object(L.jsx)("div",{className:"logo"}),Object(L.jsxs)(m.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(L.jsx)(m.a.Item,{icon:Object(L.jsx)(S.a,{}),children:"Option 1"},"1"),Object(L.jsx)(m.a.Item,{icon:Object(L.jsx)(v.a,{}),children:"Option 2"},"2"),Object(L.jsxs)(U,{icon:Object(L.jsx)(g.a,{}),title:"User",children:[Object(L.jsx)(m.a.Item,{children:"Tom"},"3"),Object(L.jsx)(m.a.Item,{children:"Bill"},"4"),Object(L.jsx)(m.a.Item,{children:"Alex"},"5")]},"sub1"),Object(L.jsxs)(U,{icon:Object(L.jsx)(w.a,{}),title:"Team",children:[Object(L.jsx)(m.a.Item,{children:"Team 1"},"6"),Object(L.jsx)(m.a.Item,{children:"Team 2"},"8")]},"sub2"),Object(L.jsx)(m.a.Item,{icon:Object(L.jsx)(I.a,{}),children:"Files"},"9")]})]}),Object(L.jsxs)(x.a,{className:"site-layout",children:[Object(L.jsx)(q,{className:"site-layout-background",style:{padding:0}}),Object(L.jsxs)(J,{style:{margin:"0 16px"},children:[Object(L.jsxs)(f.a,{style:{margin:"16px 0"},children:[Object(L.jsx)(f.a.Item,{children:"User"}),Object(L.jsx)(f.a.Item,{children:"Bill"})]}),Object(L.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:T?Object(L.jsx)(j.a,{indicator:W}):o.length<=0?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(z,{showDrawer:F,setShowDrawer:N,fetchStudents:P}),Object(L.jsx)(d.a,{onClick:function(){return N(!F)},type:"primary",shape:"round",icon:Object(L.jsx)(y.a,{}),size:"small",children:"Add New Student"}),Object(L.jsx)(u.a,{})]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(z,{showDrawer:F,setShowDrawer:N,fetchStudents:P}),Object(L.jsx)(h.a,{dataSource:o,columns:V(P),bordered:!0,title:function(){return Object(L.jsx)(d.a,{onClick:function(){return N(!F)},type:"primary",shape:"round",icon:Object(L.jsx)(y.a,{}),size:"small",children:"Add New Student"})},pagination:{pageSize:400},scroll:{y:500},rowKey:function(e){return e.id}}),";"]})})]}),Object(L.jsx)(G,{style:{textAlign:"center"},children:"By Marco Saraiva da Silva"})]})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,248)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(X,{})}),document.getElementById("root")),Z()}},[[231,1,2]]]);
//# sourceMappingURL=main.b8967d1e.chunk.js.map